(function($){"use strict";$.ajaxloadmore=function(el,e){if(alm_localize.scrolltop==='true'){$(window).scrollTop(0);}
var alm=this;alm.AjaxLoadMore={};alm.page=0;alm.posts=0;alm.totalposts=0;alm.proceed=false;alm.disable_ajax=false;alm.init=true;alm.loading=true;alm.finished=false;alm.window=$(window);alm.button_label='';alm.data;alm.el=el;alm.container=el;alm.container.addClass('alm-'+e).attr('data-alm-id',e);alm.content=$('.alm-ajax',alm.container);alm.content_preloaded=$('.alm-listing.alm-preloaded',alm.container);alm.canonical_url=alm.el.attr('data-canonical-url');alm.slug=alm.el.attr('data-slug');alm.prefix='alm-';alm.cache=alm.content.attr('data-cache');alm.cache_id=alm.content.attr('data-cache-id');alm.cache_path=alm.content.attr('data-cache-path');alm.cache_logged_in=alm.content.attr('data-cache-logged-in');alm.repeater=alm.content.attr('data-repeater');alm.theme_repeater=alm.content.attr('data-theme-repeater');alm.scroll_distance=parseInt(alm.content.attr('data-scroll-distance'));alm.max_pages=parseInt(alm.content.attr('data-max-pages'));alm.pause_override=alm.content.attr('data-pause-override');alm.pause=alm.content.attr('data-pause');alm.transition=alm.content.attr('data-transition');alm.transition_container=alm.content.attr('data-transition-container');alm.speed=alm.content.attr('data-transition-speed');alm.images_loaded=alm.content.attr('data-images-loaded');alm.destroy_after=alm.content.attr('data-destroy-after');alm.lang=alm.content.attr('data-lang');alm.orginal_posts_per_page=alm.content.attr('data-posts-per-page');alm.posts_per_page=alm.content.attr('data-posts-per-page');alm.cta_array='';alm.cta=alm.content.attr('data-cta');alm.cta_position=alm.content.attr('data-cta-position');alm.cta_repeater=alm.content.attr('data-cta-repeater');alm.cta_theme_repeater=alm.content.attr('data-cta-theme-repeater');alm.previous_post=alm.content.attr('data-previous-post');alm.previous_post_id=alm.content.attr('data-previous-post-id');alm.previous_post_taxonomy=alm.content.attr('data-previous-post-taxonomy');alm.comments=alm.content.attr('data-comments');if(alm.comments==='true'){alm.content=$('.alm-comments',alm.container);}
alm.comments_array='';alm.comments_post_id=alm.content.attr('data-comments_post_id');alm.comments_per_page=alm.content.attr('data-comments_per_page');alm.comments_type=alm.content.attr('data-comments_type');alm.comments_style=alm.content.attr('data-comments_style');alm.comments_template=alm.content.attr('data-comments_template');alm.comments_callback=alm.content.attr('data-comments_callback');alm.restapi=alm.content.attr('data-restapi');alm.restapi_base_url=alm.content.attr('data-restapi-base-url');alm.restapi_namespace=alm.content.attr('data-restapi-namespace');alm.restapi_endpoint=alm.content.attr('data-restapi-endpoint');alm.restapi_template_id=alm.content.attr('data-restapi-template-id');alm.restapi_debug=alm.content.attr('data-restapi-debug');alm.seo=alm.content.attr('data-seo');alm.preloaded=alm.content.attr('data-preloaded');alm.preloaded_amount=alm.content.attr('data-preloaded-amount');alm.paging=alm.content.attr('data-paging');alm.paging_controls=alm.content.attr('data-paging-controls');alm.paging_show_at_most=alm.content.attr('data-paging-show-at-most');alm.paging_classes=alm.content.attr('data-paging-classes');alm.paging_init=true;if(alm.restapi==='true'){alm.restapi=true;if(alm.restapi_debug===undefined){alm.restapi_debug=false;}
if(alm.restapi_template_id===''){alm.restapi=false;}}else{alm.restapi=false;}
if(alm.paging==='true'){alm.paging=true;if(alm.paging_show_at_most===undefined){alm.paging_show_at_most=7;}
if(alm.preloaded==='true'){alm.pause=true;}}else{alm.paging=false;}
if(alm.paging_controls==='true'){alm.paging_controls=true;}else{alm.paging_controls=false;}
if(alm.cache===undefined){alm.cache=false;}
if(alm.cache_logged_in===undefined){alm.cache_logged_in=false;}
if(alm.comments_per_page===undefined){alm.comments_per_page='5';}
if(alm.preloaded==='true'){alm.preload_wrap=alm.content.prev('.alm-preloaded');alm.preloaded_total_posts=parseInt(alm.preload_wrap.attr('data-total-posts'));if(alm.preloaded_amount===undefined){alm.preloaded_amount=false;}
if(alm.preloaded_total_posts<=alm.preloaded_amount){alm.disable_ajax=true;}}else{alm.preloaded='false';}
if(alm.seo===undefined){alm.seo=false;}
if(alm.seo==='true'){alm.seo=true;}
alm.permalink=alm.content.attr('data-seo-permalink');alm.pageview=alm.content.attr('data-seo-pageview');alm.start_page=alm.content.attr('data-seo-start-page');if(alm.start_page){alm.seo_scroll=alm.content.attr('data-seo-scroll');alm.seo_scroll_speed=alm.content.attr('data-seo-scroll-speed');alm.seo_scrolltop=alm.content.attr('data-seo-scrolltop');alm.isPaged=false;if(alm.start_page>1){alm.isPaged=true;alm.posts_per_page=alm.start_page*alm.posts_per_page;}
if(alm.paging){alm.posts_per_page=alm.orginal_posts_per_page;}}else{alm.start_page=1;}
if(alm.previous_post==='true'){alm.previous_post=true;alm.previous_post_permalink='';alm.previous_post_title='';}else{alm.previous_post=false;}
if(alm.previous_post_id===undefined){alm.previous_post_id='';}
if(alm.previous_post_taxonomy===undefined){alm.previous_post_taxonomy='';}
alm.previous_post_title_template=alm.content.attr('data-previous-post-title-template');alm.siteTitle=alm.content.attr('data-previous-post-site-title');alm.siteTagline=alm.content.attr('data-previous-post-site-tagline');alm.previous_post_pageview=alm.content.attr('data-previous-post-pageview');alm.previous_post_scroll=alm.content.attr('data-previous-post-scroll');alm.previous_post_scroll_speed=alm.content.attr('data-previous-post-scroll-speed');alm.previous_post_scroll_top=alm.content.attr('data-previous-post-scrolltop');if(alm.content.attr('data-offset')===undefined){alm.offset=0;}else{alm.offset=alm.content.attr('data-offset');}
if(alm.pause===undefined||(alm.seo&&alm.start_page>1)){alm.pause=false;}
if(alm.preloaded==='true'&&alm.seo&&alm.start_page>0){alm.pause=false;}
if(alm.preloaded==='true'&&alm.paging){alm.pause=true;}
if(alm.repeater===undefined){alm.repeater='default';}
if(alm.theme_repeater===undefined){alm.theme_repeater='null';}
if(alm.max_pages===undefined){alm.max_pages=0;}
if(alm.max_pages===0){alm.max_pages=10000;}
if(alm.scroll_distance===undefined){alm.scroll_distance=150;}
if(alm.transition===undefined){alm.transition='slide';}else if(alm.transition==="fade"){alm.transition='fade';}else if(alm.transition==="none"){alm.transition='none';}else{alm.transition='slide';}
if(alm.speed===undefined){alm.speed=250;}else{alm.speed=parseInt(alm.speed);}
if(alm.transition_container===undefined||alm.transition_container==='true'){alm.transition_container=true;}else{alm.transition_container=false;}
if(alm.images_loaded===undefined){alm.images_loaded='false';}
if(alm.destroy_after!==undefined){}
if(alm.content.attr('data-button-label')===undefined){alm.button_label='Older Posts';}else{alm.button_label=alm.content.attr('data-button-label');}
alm.button_loading_label=alm.content.attr('data-button-loading-label');if(alm.button_loading_label===undefined){alm.button_loading_label=false;}
if(alm.content.attr('data-button-class')===undefined){alm.button_class='';}else{alm.button_class=' '+alm.content.attr('data-button-class');}
if(alm.content.attr('data-scroll')===undefined){alm.scroll=true;}else if(alm.content.attr('data-scroll')==='false'){alm.scroll=false;}else{alm.scroll=true;}
alm.post_type=alm.content.attr('data-post-type');alm.post_type=alm.post_type.split(",");alm.container.append('<div class="'+alm.prefix+'btn-wrap"/>');alm.btnWrap=$('.'+alm.prefix+'btn-wrap',alm.container);if(alm.paging){alm.content.parent().addClass('loading');}else{$('.'+alm.prefix+'btn-wrap',alm.container).append('<div class="col-xs-12"><div class="loadMoreBlog"><span class="loderblogimg"></span><button id="load-more" class="'+alm.prefix+'load-more-btn more'+alm.button_class+'">'+alm.button_label+'</button></div></div></div>');alm.button=$('.alm-load-more-btn',alm.container);}
alm.AjaxLoadMore.loadPosts=function(){if(!alm.disable_ajax){if(!alm.paging){alm.button.addClass('loading');if(alm.button_loading_label!==false){alm.button.text(alm.button_loading_label);}}
alm.loading=true;if(alm.cache==='true'&&!alm.cache_logged_in){var cache_page;if(alm.init&&alm.seo&&alm.isPaged){var firstpage='1';cache_page=alm.cache_path+'/page-'+firstpage+'-'+alm.start_page+'.html';}else{cache_page=alm.cache_path+'/page-'+(alm.page+1)+'.html';}
$.get(cache_page,function(data){alm.AjaxLoadMore.success(data,true);}).fail(function(){alm.AjaxLoadMore.ajax('standard');});}else{alm.AjaxLoadMore.ajax('standard');}}};alm.AjaxLoadMore.ajax=function(queryType){var action='alm_query_posts';if(alm.previous_post){alm.previous_post_id=alm.content.attr('data-previous-post-id');alm.previous_post_taxonomy=alm.content.attr('data-previous-post-taxonomy');}
if(alm.comments==='true'){action='alm_comments_query';alm.posts_per_page=alm.comments_per_page;alm.comments_array={'comments':'true','post_id':alm.comments_post_id,'per_page':alm.comments_per_page,'type':alm.comments_type,'style':alm.comments_style,'template':alm.comments_template,'callback':alm.comments_callback,};}
if(alm.cta==='true'){alm.cta_array={'cta':'true','cta_position':alm.cta_position,'cta_repeater':alm.cta_repeater,'cta_theme_repeater':alm.cta_theme_repeater,};}
if(alm.restapi){var alm_template=wp.template(alm.restapi_template_id),rest_url=alm.restapi_base_url+'/'+alm.restapi_namespace+'/'+alm.restapi_endpoint,rest_data={posts_per_page:alm.posts_per_page,page:alm.page,offset:alm.offset,slug:alm.slug,canonical_url:alm.canonical_url,post_type:alm.post_type,post_format:alm.content.attr('data-post-format'),category:alm.content.attr('data-category'),category__not_in:alm.content.attr('data-category-not-in'),tag:alm.content.attr('data-tag'),tag__not_in:alm.content.attr('data-tag-not-in'),taxonomy:alm.content.attr('data-taxonomy'),taxonomy_terms:alm.content.attr('data-taxonomy-terms'),taxonomy_operator:alm.content.attr('data-taxonomy-operator'),taxonomy_relation:alm.content.attr('data-taxonomy-relation'),meta_key:alm.content.attr('data-meta-key'),meta_value:alm.content.attr('data-meta-value'),meta_compare:alm.content.attr('data-meta-compare'),meta_relation:alm.content.attr('data-meta-relation'),meta_type:alm.content.attr('data-meta-type'),author:alm.content.attr('data-author'),year:alm.content.attr('data-year'),month:alm.content.attr('data-month'),day:alm.content.attr('data-day'),post_status:alm.content.attr('data-post-status'),order:alm.content.attr('data-order'),orderby:alm.content.attr('data-orderby'),post__in:alm.content.attr('data-post-in'),post__not_in:alm.content.attr('data-post-not-in'),search:alm.content.attr('data-search'),custom_args:alm.content.attr('data-custom-args'),lang:alm.lang,preloaded:alm.preloaded,preloaded_amount:alm.preloaded_amount,seo_start_page:alm.start_page,id:el.attr('data-id')};$.ajax({type:"GET",url:rest_url,data:rest_data,dataType:"JSON",beforeSend:function(){if(alm.page!=1&&!alm.paging){alm.button.addClass('loading');}},success:function(results){var data,html=results.html,meta=results.meta,postcount=meta.postcount,totalposts=meta.totalposts;$.each(html,function(e){var result=html[e];if(alm.restapi_debug==='true'){console.log(result);}
data+=alm_template(result);});var obj={'html':data,'meta':{'postcount':postcount,'totalposts':totalposts},}
alm.AjaxLoadMore.success(obj,false);}});}
else{$.ajax({type:"GET",url:alm_localize.ajaxurl,dataType:"JSON",data:{action:action,query_type:queryType,nonce:alm_localize.alm_nonce,cache_id:alm.cache_id,repeater:alm.repeater,theme_repeater:alm.theme_repeater,cta:alm.cta_array,comments:alm.comments_array,post_type:alm.post_type,post_format:alm.content.attr('data-post-format'),category:alm.content.attr('data-category'),category__not_in:alm.content.attr('data-category-not-in'),tag:alm.content.attr('data-tag'),tag__not_in:alm.content.attr('data-tag-not-in'),taxonomy:alm.content.attr('data-taxonomy'),taxonomy_terms:alm.content.attr('data-taxonomy-terms'),taxonomy_operator:alm.content.attr('data-taxonomy-operator'),taxonomy_relation:alm.content.attr('data-taxonomy-relation'),meta_key:alm.content.attr('data-meta-key'),meta_value:alm.content.attr('data-meta-value'),meta_compare:alm.content.attr('data-meta-compare'),meta_relation:alm.content.attr('data-meta-relation'),meta_type:alm.content.attr('data-meta-type'),author:alm.content.attr('data-author'),year:alm.content.attr('data-year'),month:alm.content.attr('data-month'),day:alm.content.attr('data-day'),post_status:alm.content.attr('data-post-status'),order:alm.content.attr('data-order'),orderby:alm.content.attr('data-orderby'),post__in:alm.content.attr('data-post-in'),post__not_in:alm.content.attr('data-post-not-in'),exclude:alm.content.attr('data-exclude'),search:alm.content.attr('data-search'),custom_args:alm.content.attr('data-custom-args'),posts_per_page:alm.posts_per_page,page:alm.page,offset:alm.offset,preloaded:alm.preloaded,preloaded_amount:alm.preloaded_amount,seo_start_page:alm.start_page,paging:alm.paging,previous_post:alm.previous_post,previous_post_id:alm.previous_post_id,previous_post_taxonomy:alm.previous_post_taxonomy,lang:alm.lang,slug:alm.slug,canonical_url:alm.canonical_url,id:el.attr('data-id')},beforeSend:function(){if(alm.page!=1&&!alm.paging){alm.button.addClass('loading');}},success:function(data){if(queryType==='standard'){alm.AjaxLoadMore.success(data,false);}
else if(queryType==='totalposts'&&alm.paging){if($.isFunction($.fn.almBuildPagination)){$.fn.almBuildPagination(data,alm);}}},error:function(jqXHR,textStatus,errorThrown){alm.AjaxLoadMore.error(jqXHR,textStatus,errorThrown);}});}};if(alm.paging){alm.AjaxLoadMore.ajax('totalposts');}
alm.AjaxLoadMore.success=function(data,is_cache){if(alm.previous_post){alm.AjaxLoadMore.getPreviousPost();}
var html,meta,total;if(is_cache){html=data;}else{html=data.html;meta=data.meta;alm.posts=alm.posts+meta.postcount;total=meta.postcount;alm.totalposts=meta.totalposts;if(alm.preloaded==='true'){alm.totalposts=alm.totalposts-alm.preloaded_amount;}}
alm.data=$(html);if(is_cache){total=alm.data.length;}
if(alm.init){if(!alm.paging){alm.button.text(alm.button_label);}else{if(total>0){alm.el=$('<div class="alm-reveal"/>');alm.el.append('<div class="alm-paging-content"></div><div class="alm-paging-loading"></div>');$('.alm-paging-content',alm.el).append(alm.data).hide();alm.content.append(alm.el);alm.content.parent().removeClass('loading');alm.AjaxLoadMore.resetBtnText();$('.alm-paging-content',alm.el).fadeIn(alm.speed,'alm_easeInOutQuad',function(){var paddingT=parseInt(alm.content.css('padding-top')),paddingB=parseInt(alm.content.css('padding-bottom'));alm.content.css('height',alm.el.height()+paddingT+paddingB+'px');if($.isFunction($.fn.almFadePageControls)){$.fn.almFadePageControls(alm.btnWrap);}});}}
if(total===0){if($.isFunction($.fn.almEmpty)){$.fn.almEmpty(alm);}}
if(alm.isPaged){alm.posts_per_page=alm.content.attr('data-posts-per-page');alm.page=alm.start_page-1;}}
if(total>0){if(!alm.paging){if(alm.previous_post){alm.el=$('<div class="alm-reveal alm-previous-post post-'+alm.previous_post_id+'" data-id="'+alm.previous_post_id+'" data-title="'+alm.previous_post_title+'" data-url="'+alm.previous_post_permalink+'"/>');alm.el.append(alm.data).hide();}else{if(!alm.transition_container){alm.data.hide();alm.el=alm.data;}else{if(alm.init&&alm.start_page>1){var data=[],posts_per_page=parseInt(alm.posts_per_page);if(alm.cta==='true'){posts_per_page=posts_per_page+1;}
var pages=Math.ceil(total/posts_per_page);for(var i=0;i<total;i+=posts_per_page){data.push(alm.data.slice(i,posts_per_page+i));}
alm.el=alm.content;for(var k=0;k<data.length;k++){var p=0;if(alm.preloaded==='true'){p=1;}
var div;if(k>0||alm.preloaded==='true'){var pagenum=(k+1+p);if(alm.permalink==='default'){div=$('<div class="alm-reveal alm-seo" data-url="'+alm.canonical_url+'&paged='+pagenum+'" data-page="'+pagenum+'" />');}else{div=$('<div class="alm-reveal alm-seo" data-url="'+alm.canonical_url+'page/'+pagenum+'/" data-page="'+pagenum+'" />');}}else{div=$('<div class="alm-reveal alm-seo"  data-url="'+alm.canonical_url+'" data-page="1" />');}
div.append(data[k]);div=$(div);alm.el.append(div).hide();}}
else{if(alm.seo&&alm.page>0||alm.preloaded==='true'){var p=0;if(alm.preloaded==='true'){p=1;}
var pagenum=(alm.page+1+p);if(alm.seo){if(alm.permalink==='default'){alm.el=$('<div class="alm-reveal alm-seo" data-url="'+alm.canonical_url+'&paged='+pagenum+'" data-page="'+pagenum+'" />');}else{alm.el=$('<div class="alm-reveal alm-seo" data-url="'+alm.canonical_url+'page/'+pagenum+'/" data-page="'+pagenum+'" />');}}else{alm.el=$('<div class="alm-reveal" />');}}else{if(alm.seo){alm.el=$('<div class="alm-reveal alm-seo" data-url="'+alm.canonical_url+'" data-page="1" />');}else{alm.el=$('<div class="alm-reveal" />');}}
alm.el.append(alm.data).hide();}}}
alm.content.append(alm.el);if(alm.transition==='fade'){if(alm.images_loaded==='true'){alm.el.almWaitForImages().done(function(){alm.el.fadeIn(alm.speed,'alm_easeInOutQuad',function(){alm.loading=false;if(!alm.paging){alm.button.delay(alm.speed).removeClass('loading');alm.AjaxLoadMore.resetBtnText();}
if($.isFunction($.fn.almSEO)&&alm.seo){$.fn.almSEO(alm);}});});}else{alm.el.fadeIn(alm.speed,'alm_easeInOutQuad',function(){alm.loading=false;if(!alm.paging){alm.button.delay(alm.speed).removeClass('loading');alm.AjaxLoadMore.resetBtnText();}
if($.isFunction($.fn.almSEO)&&alm.seo){$.fn.almSEO(alm);}});}}else if(alm.transition==='none'){if(alm.images_loaded==='true'){alm.el.almWaitForImages().done(function(){alm.el.show();if($.isFunction($.fn.almSEO)&&alm.seo){$.fn.almSEO(alm);}});}else{alm.el.show();if($.isFunction($.fn.almSEO)&&alm.seo){$.fn.almSEO(alm);}}
alm.loading=false;if(!alm.paging){alm.button.delay(alm.speed).removeClass('loading');alm.AjaxLoadMore.resetBtnText();}}else{if(alm.images_loaded==='true'){alm.el.almWaitForImages().done(function(){alm.el.slideDown(alm.speed,'alm_easeInOutQuad',function(){alm.loading=false;if(!alm.paging){alm.button.delay(alm.speed).removeClass('loading');alm.AjaxLoadMore.resetBtnText();}
if($.isFunction($.fn.almSEO)&&alm.seo){$.fn.almSEO(alm);}});});}else{alm.el.slideDown(alm.speed,'alm_easeInOutQuad',function(){alm.loading=false;if(!alm.paging){alm.button.delay(alm.speed).removeClass('loading');alm.AjaxLoadMore.resetBtnText();}
if($.isFunction($.fn.almSEO)&&alm.seo){$.fn.almSEO(alm);}});}}}else{if(!alm.init){$('.alm-paging-content',alm.el).html('').append(alm.data).almWaitForImages().done(function(){$('.alm-paging-loading',alm.el).fadeOut(alm.speed);if($.isFunction($.fn.almOnPagingComplete)){$.fn.almOnPagingComplete(alm);}
if($.isFunction($.fn.almSEO)&&alm.seo){$.fn.almSEO(alm);}});}else{if($.isFunction($.fn.almSEO)&&alm.seo){$.fn.almSEO(alm);}}}
if($.isFunction($.fn.almComplete)){if(alm.images_loaded==='true'){alm.el.almWaitForImages().done(function(){$.fn.almComplete(alm);});}else{$.fn.almComplete(alm);}}
if(!alm.cache){if(alm.posts>=alm.totalposts&&!alm.previous_post){alm.AjaxLoadMore.triggerDone();}}else{if(total<alm.posts_per_page){alm.AjaxLoadMore.triggerDone();}}}else{if(!alm.paging){alm.button.delay(alm.speed).removeClass('loading').addClass('done');alm.AjaxLoadMore.resetBtnText();}
alm.AjaxLoadMore.triggerDone();}
if(alm.destroy_after!==undefined&&alm.destroy_after!==''){var currentPage=alm.page+1;if(alm.preload){currentPage++;}
if(currentPage==alm.destroy_after){alm.disable_ajax=true;if(!alm.paging){alm.button.delay(alm.speed).fadeOut(alm.speed);}}}
alm.init=false;};alm.AjaxLoadMore.pagingPreloadedInit=function(data){alm.el=$('<div class="alm-reveal"/>');alm.el.append('<div class="alm-paging-content">'+data+'</div><div class="alm-paging-loading"></div>');alm.content.append(alm.el);alm.content.parent().removeClass('loading');alm.AjaxLoadMore.resetBtnText();var paddingT=parseInt(alm.content.css('padding-top')),paddingB=parseInt(alm.content.css('padding-bottom'));alm.content.css('height',alm.el.height()+paddingT+paddingB+'px');if($.isFunction($.fn.almFadePageControls)){$.fn.almFadePageControls(alm.btnWrap);}}
alm.fetchingPreviousPost=false;alm.AjaxLoadMore.getPreviousPost=function(){alm.fetchingPreviousPost=true;$.ajax({type:"GET",dataType:"JSON",url:alm_localize.ajaxurl,data:{action:'alm_query_previous_post',id:alm.previous_post_id,taxonomy:alm.previous_post_taxonomy},success:function(data){if(data.has_previous_post){alm.content.attr('data-previous-post-id',data.prev_id);alm.previous_post_permalink=data.prev_permalink;alm.previous_post_title=data.prev_title;}else{if(!data.has_previous_post){alm.AjaxLoadMore.triggerDone();}}
if($.isFunction($.fn.almSetPreviousPost)){$.fn.almSetPreviousPost(alm,data.current_id,data.permalink,data.title);}
alm.fetchingPreviousPost=false;},error:function(jqXHR,textStatus,errorThrown){alm.AjaxLoadMore.error(jqXHR,textStatus,errorThrown);alm.fetchingPreviousPost=false;}});};alm.AjaxLoadMore.triggerDone=function(){alm.loading=false;alm.finished=true;if(!alm.paging){alm.button.addClass('done');}
if($.isFunction($.fn.almDone)){setTimeout(function(){$.fn.almDone(alm)},alm.speed+10);}};alm.AjaxLoadMore.resetBtnText=function(){if(alm.button_loading_label!==false){if(!alm.paging){alm.button.text(alm.button_label);}}};alm.AjaxLoadMore.error=function(jqXHR,textStatus,errorThrown){alm.loading=false;if(!alm.paging){alm.button.removeClass('loading');alm.AjaxLoadMore.resetBtnText();}
console.log(errorThrown);};if(!alm.paging&&!alm.fetchingPreviousPost){alm.button.on('click',function(){if(alm.pause==='true'){alm.pause=false;alm.pause_override=false;alm.AjaxLoadMore.loadPosts();}
if(!alm.loading&&!alm.finished&&!$(this).hasClass('done')){alm.loading=true;alm.page++;alm.AjaxLoadMore.loadPosts();}});}
if(alm.paging){alm.window.resize(function(){if($.isFunction($.fn.almOnWindowResize)){setTimeout(function(){$.fn.almOnWindowResize(alm);},250);}});}
alm.AjaxLoadMore.isVisible=function(){alm.visible=false;if(alm.el.is(":visible")){alm.visible=true;}
return alm.visible;};if(alm.scroll&&!alm.paging){alm.window.bind("scroll touchstart",function(){if(alm.AjaxLoadMore.isVisible()&&!alm.fetchingPreviousPost){var content_offset=alm.button.offset(),top=Math.round(content_offset.top-(alm.window.height()-alm.scroll_distance));if(!alm.loading&&!alm.finished&&(alm.window.scrollTop()>=top)&&alm.page<(alm.max_pages-1)&&alm.proceed&&alm.pause==='true'&&alm.pause_override==='true'){alm.button.trigger('click');}
else{if(!alm.loading&&!alm.finished&&(alm.window.scrollTop()>=top)&&alm.page<(alm.max_pages-1)&&alm.proceed&&alm.pause!=='true'){alm.page++;alm.AjaxLoadMore.loadPosts();}}}});}
alm.AjaxLoadMore.init=function(){if(!alm.paging&&!alm.previous_post){if(alm.disable_ajax){alm.finished=true;alm.button.addClass('done');}else{if(alm.pause==='true'){alm.button.text(alm.button_label);alm.loading=false;}else{alm.AjaxLoadMore.loadPosts();}}}
if(alm.previous_post){alm.AjaxLoadMore.getPreviousPost();alm.loading=false;}}
alm.AjaxLoadMore.init();setTimeout(function(){alm.proceed=true;},300);$.fn.almUpdateCurrentPage=function(current,obj,alm){alm.page=current;if(alm.paging_init&&alm.preloaded==='true'){var data=$('.alm-preloaded .alm-reveal',alm.el).html();$('.alm-preloaded',alm.el).remove();alm.preloaded_amount=0;alm.AjaxLoadMore.pagingPreloadedInit(data);alm.paging_init=false;alm.init=false;}else{alm.AjaxLoadMore.loadPosts();}};$.fn.almGetParentContainer=function(){return alm.el.closest('#ajax-load-more');};$.fn.almGetObj=function(){return alm;};$.fn.almTriggerClick=function(){alm.button.trigger('click');};$.easing.alm_easeInOutQuad=function(x,t,b,c,d){if((t/=d/2)<1){return c/2*t*t+b;}
return-c/2*((--t)*(t-2)-1)+b;};};$.fn.almFilter=function(transition,speed,data){if(data.target){$(".ajax-load-more-wrap[data-id='"+data.target+"']").each(function(e){var el=$(this);$.fn.almFilterTransition(transition,speed,data,el);});}else{$(".ajax-load-more-wrap").each(function(e){var el=$(this);$.fn.almFilterTransition(transition,speed,data,el);});}};$.fn.almFilterTransition=function(transition,speed,data,el){if(transition==='slide'){el.slideUp(speed,function(){$('.alm-listing',el).html('');$('.alm-btn-wrap',el).remove();el.fadeIn(speed);$.fn.almSetFilters(el,data);});}else if(transition==='fade'){el.fadeOut(speed,function(){$('.alm-listing',el).html('');$('.alm-btn-wrap',el).remove();el.fadeIn(speed);$.fn.almSetFilters(el,data);});}else{$('.alm-listing',el).html('');$('.alm-btn-wrap',el).remove();el.fadeIn(speed);$.fn.almSetFilters(el,data);}};$.fn.almSetFilters=function(el,data){$.each(data,function(key,value){key=key.replace(/\W+/g,'-').replace(/([a-z\d])([A-Z])/g,'$1-$2');$('.alm-listing',el).attr('data-'+key,value);});if($.isFunction($.fn.almFilterComplete)){$.fn.almFilterComplete();}
if(data.target){$(".ajax-load-more-wrap[data-id="+data.target+"").ajaxloadmore();}else{$(".ajax-load-more-wrap").ajaxloadmore();}};$.fn.ajaxloadmore=function(){return this.each(function(e){$(this).data('alm',new $.ajaxloadmore($(this),e));});};if($(".ajax-load-more-wrap").length){$(".ajax-load-more-wrap").ajaxloadmore();}})(jQuery);;(function(factory){if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else if(typeof exports==='object'){module.exports=factory(require('jquery'));}else{factory(jQuery);}}(function($){var eventNamespace='almWaitForImages';$.almWaitForImages={hasImageProperties:['backgroundImage','listStyleImage','borderImage','borderCornerImage','cursor'],hasImageAttributes:['srcset']};$.expr[':']['has-src']=function(obj){return $(obj).is('img[src][src!=""]');};$.expr[':'].uncached=function(obj){if(!$(obj).is(':has-src')){return false;}
return!obj.complete;};$.fn.almWaitForImages=function(){var allImgsLength=0;var allImgsLoaded=0;var deferred=$.Deferred();var finishedCallback;var eachCallback;var waitForAll;if($.isPlainObject(arguments[0])){waitForAll=arguments[0].waitForAll;eachCallback=arguments[0].each;finishedCallback=arguments[0].finished;}else{if(arguments.length===1&&$.type(arguments[0])==='boolean'){waitForAll=arguments[0];}else{finishedCallback=arguments[0];eachCallback=arguments[1];waitForAll=arguments[2];}}
finishedCallback=finishedCallback||$.noop;eachCallback=eachCallback||$.noop;waitForAll=!!waitForAll;if(!$.isFunction(finishedCallback)||!$.isFunction(eachCallback)){throw new TypeError('An invalid callback was supplied.');}
this.each(function(){var obj=$(this);var allImgs=[];var hasImgProperties=$.almWaitForImages.hasImageProperties||[];var hasImageAttributes=$.almWaitForImages.hasImageAttributes||[];var matchUrl=/url\(\s*(['"]?)(.*?)\1\s*\)/g;if(waitForAll){obj.find('*').addBack().each(function(){var element=$(this);if(element.is('img:has-src')){allImgs.push({src:element.attr('src'),element:element[0]});}
$.each(hasImgProperties,function(i,property){var propertyValue=element.css(property);var match;if(!propertyValue){return true;}
while(match=matchUrl.exec(propertyValue)){allImgs.push({src:match[2],element:element[0]});}});$.each(hasImageAttributes,function(i,attribute){var attributeValue=element.attr(attribute);var attributeValues;if(!attributeValue){return true;}
attributeValues=attributeValue.split(',');$.each(attributeValues,function(i,value){value=$.trim(value).split(' ')[0];allImgs.push({src:value,element:element[0]});});});});}else{obj.find('img:has-src').each(function(){allImgs.push({src:this.src,element:this});});}
allImgsLength=allImgs.length;allImgsLoaded=0;if(allImgsLength===0){finishedCallback.call(obj[0]);deferred.resolveWith(obj[0]);}
$.each(allImgs,function(i,img){var image=new Image();var events='load.'+eventNamespace+' error.'+eventNamespace;$(image).one(events,function me(event){var eachArguments=[allImgsLoaded,allImgsLength,event.type=='load'];allImgsLoaded++;eachCallback.apply(img.element,eachArguments);deferred.notifyWith(img.element,eachArguments);$(this).off(events,me);if(allImgsLoaded==allImgsLength){finishedCallback.call(obj[0]);deferred.resolveWith(obj[0]);return false;}});image.src=img.src;});});return deferred.promise();};}));